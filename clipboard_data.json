["https://codeforces.com/problemset/submission/1980/263991452", "", "import tkinter as tk\r\nfrom tkinter import ttk\r\nimport pyperclip\r\nimport datetime\r\nimport json\r\nimport os\r\n\r\nX = []\r\nDATA_FILE = 'clipboard_data.json'\r\n\r\n# \u521b\u5efa\u4e3b\u7a97\u53e3\r\nroot = tk.Tk()\r\nroot.geometry('600x500')\r\nroot.title('Clipboard Manager')\r\nroot.configure(bg='#ffffff')\r\n\r\n# \u8bbe\u7f6e\u7a97\u53e3\u56fe\u6807\r\nicon_path = 'sad.ico'\r\nroot.iconbitmap(icon_path)\r\n\r\n# \u8bbe\u7f6e\u6837\u5f0f\r\nstyle = ttk.Style()\r\nstyle.configure('TFrame', background='#ffffff')\r\nstyle.configure('TLabel', background='#ffffff', font=('Helvetica', 12))\r\nstyle.configure('TButton', background='#4CAF50', foreground='#ffffff', font=('Helvetica', 10, 'bold'))\r\nstyle.map('TButton', background=[('active', '#45a049')])  # \u8bbe\u7f6e\u6309\u94ae\u7684\u6fc0\u6d3b\u72b6\u6001\u989c\u8272\r\n\r\n# \u521b\u5efa\u6846\u67b6\r\nframe = ttk.Frame(root)\r\nframe.pack(padx=10, pady=10, fill=tk.X)\r\n\r\nlabel = ttk.Label(frame, text='Clipboard Contents:')\r\nlabel.grid(row=0, column=0, padx=5, pady=5)\r\n\r\n# \u6e05\u9664\u6309\u94ae\r\nclear_button = tk.Button(frame, text='Clear', command=lambda: clear_listbox(), bg='#4CAF50', fg='#ffffff', font=('Helvetica', 10, 'bold'))\r\nclear_button.grid(row=0, column=1, padx=5, pady=5)\r\n\r\n# \u63d0\u793a\u6807\u7b7e\r\ncopy_label = ttk.Label(frame, text='', foreground='green')\r\ncopy_label.grid(row=0, column=2, padx=5, pady=5)\r\n\r\n# \u521b\u5efa\u6eda\u52a8\u6761\r\nscrollbar_y = ttk.Scrollbar(root, orient=tk.VERTICAL)\r\nscrollbar_y.pack(side=tk.RIGHT, fill=tk.Y)\r\n\r\nscrollbar_x = ttk.Scrollbar(root, orient=tk.HORIZONTAL)\r\nscrollbar_x.pack(side=tk.BOTTOM, fill=tk.X, pady=10)\r\n\r\n# \u521b\u5efa\u5217\u8868\u6846\r\nlistbox = tk.Listbox(root, width=80, height=20, yscrollcommand=scrollbar_y.set, xscrollcommand=scrollbar_x.set, font=('Courier', 10))\r\nlistbox.pack(pady=10, padx=10)\r\n\r\nscrollbar_y.config(command=listbox.yview)\r\nscrollbar_x.config(command=listbox.xview)\r\n\r\ndef get_current_time():\r\n    return datetime.datetime.now().strftime(r\"%Y-%m-%d %H:%M:%S\")\r\n\r\ndef update_listbox():\r\n    new_item = pyperclip.paste()\r\n    if new_item not in X:\r\n        X.append(new_item)\r\n        listbox.insert(tk.END, new_item)\r\n        listbox.insert(tk.END, f'----------------------------{get_current_time()}----------------------------')\r\n        listbox.yview(tk.END)\r\n    root.after(1000, update_listbox)\r\n\r\ndef save_data():\r\n    with open(DATA_FILE, 'w') as file:\r\n        json.dump(X, file)\r\n\r\ndef load_data():\r\n    if os.path.exists(DATA_FILE):\r\n        with open(DATA_FILE, 'r') as file:\r\n            return json.load(file)\r\n    else: # \u4e0d\u5b58\u5728\u5c31\u521b\u5efa\r\n        with open(DATA_FILE, 'w') as file:\r\n            return []\r\n\r\ndef populate_listbox():\r\n    for item in X:\r\n        listbox.insert(tk.END, item)\r\n        listbox.insert(tk.END, f'----------------------------{get_current_time()}----------------------------')\r\n\r\n# \u590d\u5236\u5230\u526a\u8d34\u677f\u51fd\u6570\r\ndef copy_to_clipboard(event):\r\n    selected_item = listbox.get(listbox.curselection())\r\n    if selected_item:\r\n        pyperclip.copy(selected_item)\r\n        copy_label.config(text='Copied to clipboard!')\r\n        root.after(2000, lambda: copy_label.config(text=''))  # 2\u79d2\u540e\u6e05\u9664\u63d0\u793a\u4fe1\u606f\r\n\r\n# \u6e05\u7a7a\u5217\u8868\u6846\u51fd\u6570\r\ndef clear_listbox():\r\n    listbox.delete(0, tk.END)\r\n    X.clear()\r\n    with open(DATA_FILE, 'w') as file:\r\n        json.dump(X, file)\r\n    copy_label.config(text='List cleared!')\r\n    root.after(2000, lambda: copy_label.config(text=''))  # 2\u79d2\u540e\u6e05\u9664\u63d0\u793a\u4fe1\u606f\r\n\r\n# \u5173\u95ed\u7a0b\u5e8f\u65f6\u4fdd\u5b58\u6570\u636e\r\ndef on_closing():\r\n    save_data()\r\n    root.destroy()\r\n\r\n# \u52a0\u8f7d\u6570\u636e\u5e76\u586b\u5145\u5217\u8868\u6846\r\nX = load_data()\r\npopulate_listbox()\r\n\r\n# \u542f\u52a8\u66f4\u65b0\u5217\u8868\u6846\u5faa\u73af\r\nupdate_listbox()\r\n\r\n# \u7ed1\u5b9a\u4e8b\u4ef6\r\nlistbox.bind('<Double-Button-1>', copy_to_clipboard)\r\n\r\n# \u7ed1\u5b9a\u5173\u95ed\u4e8b\u4ef6\r\nroot.protocol(\"WM_DELETE_WINDOW\", on_closing)\r\n\r\n# \u542f\u52a8\u4e3b\u5faa\u73af\r\nroot.mainloop()"]